<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Boost.AFIO: boost::afio::v2::utils::page_allocator&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Boost.AFIO
   &#160;<span id="projectnumber">v2.00 early alpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classboost_1_1afio_1_1v2_1_1utils_1_1page__allocator.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classboost_1_1afio_1_1v2_1_1utils_1_1page__allocator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">boost::afio::v2::utils::page_allocator&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An STL allocator which allocates large TLB page memory.If the operating system is configured to allow it, this type of memory is particularly efficient for doing large scale file i/o. This is because the kernel must normally convert the scatter gather buffers you pass into extended scatter gather buffers as the memory you see as contiguous may not, and probably isn't, actually be contiguous in physical memory. Regions returned by this allocator <em>may</em> be allocated contiguously in physical memory and therefore the kernel can pass through your scatter gather buffers unmodified.  
 <a href="classboost_1_1afio_1_1v2_1_1utils_1_1page__allocator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="utils_8hpp_source.html">utils.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structboost_1_1afio_1_1v2_1_1utils_1_1page__allocator_1_1rebind.html">rebind</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:abc7546e29da718f1427bad0a30604682"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc7546e29da718f1427bad0a30604682"></a>
typedef T&#160;</td><td class="memItemRight" valign="bottom"><b>value_type</b></td></tr>
<tr class="separator:abc7546e29da718f1427bad0a30604682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45e218cf97c4c901ff93d232b6a9046"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac45e218cf97c4c901ff93d232b6a9046"></a>
typedef T *&#160;</td><td class="memItemRight" valign="bottom"><b>pointer</b></td></tr>
<tr class="separator:ac45e218cf97c4c901ff93d232b6a9046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63a2594a12621842546c28b719146e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac63a2594a12621842546c28b719146e6"></a>
typedef const T *&#160;</td><td class="memItemRight" valign="bottom"><b>const_pointer</b></td></tr>
<tr class="separator:ac63a2594a12621842546c28b719146e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ec856699ea17b33bd042d3af56cba5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96ec856699ea17b33bd042d3af56cba5"></a>
typedef T &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>reference</b></td></tr>
<tr class="separator:a96ec856699ea17b33bd042d3af56cba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd24932b3668d3a9d6534f825c3fa33"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9dd24932b3668d3a9d6534f825c3fa33"></a>
typedef const T &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>const_reference</b></td></tr>
<tr class="separator:a9dd24932b3668d3a9d6534f825c3fa33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e61b35f249f7644f1c9ac78f74a65b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1e61b35f249f7644f1c9ac78f74a65b"></a>
typedef size_t&#160;</td><td class="memItemRight" valign="bottom"><b>size_type</b></td></tr>
<tr class="separator:ab1e61b35f249f7644f1c9ac78f74a65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d59e0cd9eee6f21a520d4783ff68a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82d59e0cd9eee6f21a520d4783ff68a0"></a>
typedef ptrdiff_t&#160;</td><td class="memItemRight" valign="bottom"><b>difference_type</b></td></tr>
<tr class="separator:a82d59e0cd9eee6f21a520d4783ff68a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51bc3731759f2e0bb6b7a2d15c3cc468"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51bc3731759f2e0bb6b7a2d15c3cc468"></a>
typedef std::true_type&#160;</td><td class="memItemRight" valign="bottom"><b>propagate_on_container_move_assignment</b></td></tr>
<tr class="separator:a51bc3731759f2e0bb6b7a2d15c3cc468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c69f8861b394ff178121b710e119ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79c69f8861b394ff178121b710e119ed"></a>
typedef std::true_type&#160;</td><td class="memItemRight" valign="bottom"><b>is_always_equal</b></td></tr>
<tr class="separator:a79c69f8861b394ff178121b710e119ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89a21baa6c9a335e856abb210f47a52c"><td class="memTemplParams" colspan="2"><a class="anchor" id="a89a21baa6c9a335e856abb210f47a52c"></a>
template&lt;class U &gt; </td></tr>
<tr class="memitem:a89a21baa6c9a335e856abb210f47a52c"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>page_allocator</b> (const <a class="el" href="classboost_1_1afio_1_1v2_1_1utils_1_1page__allocator.html">page_allocator</a>&lt; U &gt; &amp;) noexcept</td></tr>
<tr class="separator:a89a21baa6c9a335e856abb210f47a52c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c5791b45cd1cb6f2cb6e34a97a3ced"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2c5791b45cd1cb6f2cb6e34a97a3ced"></a>
size_type&#160;</td><td class="memItemRight" valign="bottom"><b>max_size</b> () const  noexcept</td></tr>
<tr class="separator:af2c5791b45cd1cb6f2cb6e34a97a3ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45227803c515c1061eab3c74ebe6020"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac45227803c515c1061eab3c74ebe6020"></a>
pointer&#160;</td><td class="memItemRight" valign="bottom"><b>address</b> (reference x) const  noexcept</td></tr>
<tr class="separator:ac45227803c515c1061eab3c74ebe6020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace31f333dd06fcfda6b63518efb38b25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace31f333dd06fcfda6b63518efb38b25"></a>
const_pointer&#160;</td><td class="memItemRight" valign="bottom"><b>address</b> (const_reference x) const  noexcept</td></tr>
<tr class="separator:ace31f333dd06fcfda6b63518efb38b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6082ecbfab6c3fdc7c643ab5be6f7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d6082ecbfab6c3fdc7c643ab5be6f7a"></a>
pointer&#160;</td><td class="memItemRight" valign="bottom"><b>allocate</b> (size_type n, const void *=0)</td></tr>
<tr class="separator:a2d6082ecbfab6c3fdc7c643ab5be6f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f65976d0e53ebe637bc25576593d2bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f65976d0e53ebe637bc25576593d2bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>deallocate</b> (pointer p, size_type n)</td></tr>
<tr class="separator:a7f65976d0e53ebe637bc25576593d2bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83ff5f29ff414a8a3e7a5f5b0a83123"><td class="memTemplParams" colspan="2"><a class="anchor" id="ab83ff5f29ff414a8a3e7a5f5b0a83123"></a>
template&lt;class U , class... Args&gt; </td></tr>
<tr class="memitem:ab83ff5f29ff414a8a3e7a5f5b0a83123"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>construct</b> (U *p, Args &amp;&amp;...args)</td></tr>
<tr class="separator:ab83ff5f29ff414a8a3e7a5f5b0a83123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0885ec9daf514f93c5e2960ceef5824"><td class="memTemplParams" colspan="2"><a class="anchor" id="aa0885ec9daf514f93c5e2960ceef5824"></a>
template&lt;class U &gt; </td></tr>
<tr class="memitem:aa0885ec9daf514f93c5e2960ceef5824"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>destroy</b> (U *p)</td></tr>
<tr class="separator:aa0885ec9daf514f93c5e2960ceef5824"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class boost::afio::v2::utils::page_allocator&lt; T &gt;</h3>

<p>An STL allocator which allocates large TLB page memory.</p>
<p>If the operating system is configured to allow it, this type of memory is particularly efficient for doing large scale file i/o. This is because the kernel must normally convert the scatter gather buffers you pass into extended scatter gather buffers as the memory you see as contiguous may not, and probably isn't, actually be contiguous in physical memory. Regions returned by this allocator <em>may</em> be allocated contiguously in physical memory and therefore the kernel can pass through your scatter gather buffers unmodified. </p>
<p>A particularly useful combination with this allocator is with the <a class="el" href="namespaceboost_1_1afio_1_1v2_1_1utils.html#a7da62bc5ffcab6d3f581e1c7c665818e" title="Returns the page sizes of this architecture which is useful for calculating direct i/o multiples...">page_sizes()</a> member function of <b>afio_dispatcher</b>. This will return which pages sizes are possible, and which page sizes are enabled for this user. If writing a file copy routine for example, using this allocator with the largest page size as the copy chunk makes a great deal of sense.</p>
<p>Be aware that as soon as the allocation exceeds a large page size, most systems allocate in multiples of the large page size, so if the large page size were 2Mb and you allocate 2Mb + 1 byte, 4Mb is actually consumed. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>include/boost/afio/v2/<a class="el" href="utils_8hpp_source.html">utils.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceboost.html">boost</a></li><li class="navelem"><a class="el" href="namespaceboost_1_1afio.html">afio</a></li><li class="navelem"><a class="el" href="namespaceboost_1_1afio_1_1v2.html">v2</a></li><li class="navelem"><a class="el" href="namespaceboost_1_1afio_1_1v2_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="classboost_1_1afio_1_1v2_1_1utils_1_1page__allocator.html">page_allocator</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
